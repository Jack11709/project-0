"use strict";$(function(){function e(){x?(P=$(".track1.player").index(),console.log(P),P>=21&&(alert("Player 1 wins!"),y.addClass("player"),c.text("hide"),$(".controller").addClass("hide"))):x||(P=$(".track2.player").index(),console.log(P),P>=21&&(alert("Player 2 wins!"),u.addClass("player"),c.addClass("hide"),$(".controller").addClass("hide")))}function a(){x?(l(),x=!1,h=$(".track2"),c.text("Player 2's Turn")):x||(l(),x=!0,h=$(".track1"),c.text("Player 1's Turn"))}function l(){x?(P=$(".track1.player").index(),f>0?r():0===f&&(t(),f=2)):x||(P=$(".track2.player").index(),k>0?r():0===k&&(t(),k=2))}function r(){h.eq(P).removeClass("player"),h.eq(P+(Math.floor(3*Math.random())+1)).addClass("player"),e()}function t(){h.eq(P).removeClass("player"),h.eq(P+5).addClass("player"),e()}function s(){0===C?(C=2,x=!0,P=$(".track1.player").index(),c.text("Player 2 has been salted! Player 1 moves again!"),r()):0===p&&(p=2,c.text("Player 1 has been salted! Player 2 moves again!"),P=$(".track2.player").index(),r())}var n=$(".start"),o=$(".move"),d=$(".boost"),i=$(".salt"),c=$(".turn"),y=$(".finish1"),u=$(".finish2"),h=$(".track1"),x=!0,f=1,k=1,C=1,p=1,P=null;o.on("click",a),d.on("click",function(){x?1===f?(f=0,a()):2===f&&c.text("Player 1 boost already used!"):x||(1===k?(k=0,a()):2===k&&c.text("Player 2 boost already used!"))}),i.on("click",function(){x?1===C?(C=0,s()):2===C&&c.text("Player 1 has already used Salt!"):x||(1===p?(p=0,s()):2===p&&c.text("Player 2 has already used Salt!"))}),n.on("click",function(){$(".instructions").addClass("hide"),$(".board").removeClass("hide"),$(".controller").removeClass("hide"),$(".feedback").removeClass("hide")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiY2hlY2tXaW5uZXIiLCJwbGF5ZXJPbmVUdXJuIiwiaW5kZXgiLCJjb25zb2xlIiwibG9nIiwiJGZpbmlzaDEiLCJhbGVydCIsInRleHQiLCJhZGRDbGFzcyIsIiRmaW5pc2gyIiwiJHR1cm5UZXh0IiwiZGV0ZXJtaW5lVHVybiIsImxvY2F0ZUdhcnkiLCIkdHJhY2siLCJtb3ZlR2FyeSIsImJvb3N0R2FyeSIsInJlbW92ZUNsYXNzIiwiZXEiLCJNYXRoIiwicmFuZG9tIiwic2FsdEdhcnkiLCJQbGF5ZXJPbmVTYWx0UmVtYWluaW5nIiwiUGxheWVyVHdvU2FsdFJlbWFpbmluZyIsIiRzdGFydCIsIiRtb3ZlIiwiJGJvb3N0IiwiJHNhbHQiLCJQbGF5ZXJPbmVCb29zdFJlbWFpbmluZyIsIlBsYXllclR3b0Jvb3N0UmVtYWluaW5nIiwib24iXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFLFdBbUJBLFFBQVNDLEtBRFRDLEdBQ0FDLEVBQVNGLEVBQUFBLGtCQUFhRSxRQUNwQkMsUUFBR0YsSUFBQUEsR0FDREMsR0FBVSxLQUNWQyxNQUFRQyxrQkFDUkMsRUFBR0gsU0FBWSxVQUNiSSxFQUFNQyxLQUFBLFFBQ05GLEVBQUFBLGVBQUFHLFNBQUEsVUFJRFAsSUFUSEMsRUFVT0gsRUFBSUUsa0JBQWNDLFFBQ3ZCQSxRQUFRSCxJQUFFRyxHQUNWQyxHQUFZRCxLQUNaSSxNQUFHSixrQkFDREksRUFBTUUsU0FBQSxVQUNOQyxFQUFTRCxTQUFTLFFBQ2xCRSxFQUFBQSxlQUFVRixTQUFWLFVBTVIsUUFBQUcsS0FDRVYsR0FDRVcsSUFDRUEsR0FBQUEsRUFDQVgsRUFBQUEsRUFBQUEsV0FDQVksRUFBU2QsS0FBRSxvQkFDWFcsSUFKRkUsSUFNRUEsR0FBQUEsRUFDQVgsRUFBQUEsRUFBQUEsV0FDQVksRUFBU2QsS0FBRSxvQkFLakIsUUFBQWEsS0FDRVgsR0FDRUMsRUFBR0QsRUFBQUEsa0JBQWNDLFFBQ2ZBLEVBQTRCQSxFQUM1QlksSUFDRUEsSUFBQUEsSUFERkMsSUFHRUEsRUFBQUEsSUFFRGQsSUFQSEMsRUFRT0gsRUFBS0Usa0JBQWNDLFFBQ3hCQSxFQUE0QkEsRUFDNUJZLElBQ0VBLElBQUFBLElBREZDLElBR0VBLEVBQUFBLElBTU4sUUFBQUQsS0FDQUQsRUFBU0MsR0FBQUEsR0FBVEUsWUFBb0IsVUFDbEJILEVBQU9JLEdBQUdmLEdBQU9jLEtBQUFBLE1BQWpCLEVBQTZCRSxLQUFBQyxVQUE3QixJQUFBWCxTQUFBLFVBQ0FLLElBSUosUUFBQUUsS0FDRUYsRUFBU0UsR0FBQUEsR0FBVEMsWUFBcUIsVUFDbkJILEVBQU9JLEdBQUdmLEVBQU9jLEdBQUFBLFNBQVksVUFDN0JILElBSUosUUFBQU8sS0FDc0IsSUFBcEJDLEdBQ0VBLEVBQUdBLEVBQ0RBLEdBQUFBLEVBQ0FwQixFQUFBQSxFQUFBQSxrQkFBQUMsUUFDQUEsRUFBVUssS0FBQSxtREFDVkcsS0FDQUksSUFBQUEsSUFMRlEsRUFNVUEsRUFFUlosRUFBQUgsS0FBQSxtREFDQUcsRUFBQUEsRUFBVUgsa0JBQUtMLFFBQ2ZBLEtBeEdKLEdBQUFxQixHQUFNeEIsRUFBQSxVQUNOeUIsRUFBQXpCLEVBQUEsU0FDTXdCLEVBQVd4QixFQUFBLFVBQ1h5QixFQUFVekIsRUFBQSxTQUNWMEIsRUFBVzFCLEVBQUEsU0FDWDJCLEVBQVUzQixFQUFBLFlBQ1ZXLEVBQVlYLEVBQUUsWUFFZFUsRUFBQUEsRUFBV1YsV0FDakJFLEdBQUEsRUFDSVksRUFBSixFQUNJWixFQUFKLEVBQ0kwQixFQUFBQSxFQUNBQyxFQUFBQSxFQUNBUCxFQUFBQSxJQWdHTkcsR0FBQUssR0FBQSxRQUFBbEIsR0FHQWMsRUFBQUksR0FBQSxRQUFBLFdBQ0VKLEVBQ21CLElBQWR4QixHQUNEMEIsRUFBR0EsRUFDREEsS0FDQWhCLElBQUFBLEdBRkZELEVBR1VpQixLQUFBQSxnQ0FFVDFCLElBQ3VCLElBUDFCMkIsR0FRRUEsRUFBR0EsRUFDREEsS0FDQWpCLElBQUFBLEdBRkZELEVBR1VrQixLQUFBQSxtQ0FNZEYsRUFBQUcsR0FBQSxRQUFBLFdBQ0FILEVBQ21CLElBQWR6QixHQUNEb0IsRUFBR0EsRUFDREEsS0FDQUQsSUFBQUEsR0FGRlYsRUFHVVcsS0FBQUEsbUNBRVRwQixJQUNzQixJQVB6QnFCLEdBUUVBLEVBQUdBLEVBQ0RBLEtBQ0FGLElBQUFBLEdBRkZWLEVBR1VZLEtBQUFBLHNDQVFkQyxFQUFPTSxHQUFHLFFBQVMsV0FBbkJOLEVBQUFBLGlCQUFtQmYsU0FBQSxRQUNqQlQsRUFBRSxVQUFBaUIsWUFBaUJSLFFBQ25CVCxFQUFFLGVBQVVpQixZQUFZLFFBQ3hCakIsRUFBRSxhQUFGaUIsWUFBaUJBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICAvLyBMaXN0IG9mIHZhcmlhYmxlcyBuZWVkZWQgZm9yIHRoZSBnYW1lXG4gIGNvbnN0ICRzdGFydCA9ICQoJy5zdGFydCcpO1xuICBjb25zdCAkbW92ZSA9ICQoJy5tb3ZlJyk7XG4gIGNvbnN0ICRib29zdCA9ICQoJy5ib29zdCcpO1xuICBjb25zdCAkc2FsdCA9ICQoJy5zYWx0Jyk7XG4gIGNvbnN0ICR0dXJuVGV4dCA9ICQoJy50dXJuJyk7XG4gIGNvbnN0ICRmaW5pc2gxID0gJCgnLmZpbmlzaDEnKTtcbiAgY29uc3QgJGZpbmlzaDIgPSAkKCcuZmluaXNoMicpO1xuICAvLyBWYXJpYWJsZXMgdGhhdCB1cGRhdGUgZHVyaW5nIHRoZSBnYW1lLCBiYXNlZCBvbiB0dXJuL2FiaWx0aWVzIHVzZWQuXG4gIGxldCAkdHJhY2sgPSAkKCcudHJhY2sxJyk7XG4gIGxldCBwbGF5ZXJPbmVUdXJuID0gdHJ1ZTtcbiAgbGV0IFBsYXllck9uZUJvb3N0UmVtYWluaW5nID0gMTtcbiAgbGV0IFBsYXllclR3b0Jvb3N0UmVtYWluaW5nID0gMTtcbiAgbGV0IFBsYXllck9uZVNhbHRSZW1haW5pbmcgPSAxO1xuICBsZXQgUGxheWVyVHdvU2FsdFJlbWFpbmluZyA9IDE7XG4gIGxldCBpbmRleCA9IG51bGw7XG5cbiAgLy8gZnVuY3Rpb24gdGhhdCBjaGVja3MgdG8gc2VlIGlmIGVpdGhlciBwbGF5ZXIgaXMgaW4gYSB3aW5uaW5nIHBvc2l0aW9uLCBwb3N0aW9uIGlzIGRldGVybWluZXMgaWYgdGhlIGluZGV4IG9mIHRoZSBvY2N1cGllZCBzcGFjZSBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMjEodGhlIGZpbmlzaCBsaW5lKSwgdGhlcmUgYXJlIGhpZGRlbiBydW4gb2ZmIGJveGVzIHRoYXQgYWxzbyBldmF1bGF0ZSB0aGUgd2lubmVyIGlmIHRoZSBmaW5hbCBtb3ZlIHdvdWxkIG9mIHRha2UgdGhlbiBwbGF5ZXIgcGFzc2VkIGluZGV4IDIxLlxuICBmdW5jdGlvbiBjaGVja1dpbm5lcigpe1xuICAgIGlmKHBsYXllck9uZVR1cm4pe1xuICAgICAgaW5kZXggPSAkKCcudHJhY2sxLnBsYXllcicpLmluZGV4KCk7XG4gICAgICBjb25zb2xlLmxvZyhpbmRleCk7XG4gICAgICBpZihpbmRleCA+PSAyMSl7XG4gICAgICAgIGFsZXJ0KCdQbGF5ZXIgMSB3aW5zIScpO1xuICAgICAgICAkZmluaXNoMS5hZGRDbGFzcygncGxheWVyJyk7XG4gICAgICAgICR0dXJuVGV4dC50ZXh0KCdoaWRlJyk7XG4gICAgICAgICQoJy5jb250cm9sbGVyJykuYWRkQ2xhc3MoJ2hpZGUnKTtcblxuICAgICAgfVxuICAgIH0gZWxzZSBpZighcGxheWVyT25lVHVybil7XG4gICAgICBpbmRleCA9ICQoJy50cmFjazIucGxheWVyJykuaW5kZXgoKTtcbiAgICAgIGNvbnNvbGUubG9nKGluZGV4KTtcbiAgICAgIGlmKGluZGV4ID49IDIxKXtcbiAgICAgICAgYWxlcnQoJ1BsYXllciAyIHdpbnMhJyk7XG4gICAgICAgICRmaW5pc2gyLmFkZENsYXNzKCdwbGF5ZXInKTtcbiAgICAgICAgJHR1cm5UZXh0LmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICQoJy5jb250cm9sbGVyJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuLy8gdGhpcyBmdW5jdGlvbiBkZXRlcm1pbmVzIHdob3MgdHVybiBpdCBpcyBhbmQgdXBkYXRlcyB0aGUgb24gc2NyZWVuIHBvcm1wdCBhY2NvcmRpbmdseSwgaXQgaXMgZmlyZWQgZGlyZWN0bHkgYWZ0ZXIgdGhlIGNsaWNrIGV2ZW50IG9uIG1vdmUsIGFuZCBpdCBmaXJlZCBpZiBhIGJvb3N0IGhhcHBlbnMgYWZ0ZXIgdXBkYXRpbmcgdGhlIGJvb3N0IGJvb2xlYW4sIGl0IHdvcmtzIG9uIHRoZSBvbmUgdmFyaWFibGUgd2hpY2ggZ2V0cyB1cGRhdGVkIG9mIHBsYXllck9uZVR1cm4gZnJvbSB0cnVlIHRvIGZhbHNlLlxuICBmdW5jdGlvbiBkZXRlcm1pbmVUdXJuKCl7XG4gICAgaWYocGxheWVyT25lVHVybil7XG4gICAgICBsb2NhdGVHYXJ5KCk7XG4gICAgICBwbGF5ZXJPbmVUdXJuID0gZmFsc2U7XG4gICAgICAkdHJhY2sgPSAkKCcudHJhY2syJyk7XG4gICAgICAkdHVyblRleHQudGV4dCgnUGxheWVyIDJcXCdzIFR1cm4nKTtcbiAgICB9IGVsc2UgaWYoIXBsYXllck9uZVR1cm4pe1xuICAgICAgbG9jYXRlR2FyeSgpO1xuICAgICAgcGxheWVyT25lVHVybiA9IHRydWU7XG4gICAgICAkdHJhY2sgPSAkKCcudHJhY2sxJyk7XG4gICAgICAkdHVyblRleHQudGV4dCgnUGxheWVyIDFcXCdzIFR1cm4nKTtcbiAgICB9XG4gIH1cblxuLy8gVGhpcyBmdW5jdGlvbiBsb2NhdGVzIGdhcnkgb24gdGhlIGJvYXJkLCB0aGUgc2VwZXJhdGUgcGFydHMgb2YgdGhlIGlmIGVsc2Ugc3RhdGVtZW50IHJ1biBiYXNlZCBvbiB3aGljaCBwbGF5ZXJzIHR1cm4gaXQgaXMsIG9uY2UgZG9pbmcgc28gaXQgZmlyZXMgb2ZmIHRoZSBtb3ZlR2FyeSBmdW5jdGlvbi4gT3IgaWYgaXQgZGV0ZWN0cyB0aGUgYm9vc3QgaGFzIGJlZW4gdXNlZChieSBpdCB1cGRhdGluZyBmcm9tIDEgdG8gMCBvbiB0aGUgYm9vc3QgYnV0dG9uIGNsaWNrKSBpZiBmaXJlcyBvZmYgdGhlIGJvb3N0R2FyeSBmdW5jdGlvbiBpbnN0ZWFkLCBpdCB0aGVuIHVwZGF0ZXMgdGhlIGJvb3N0IGNvdW50IHRvIDIgd2hpY2ggaW5mb3JtcyB0aGUgdXNlciB0aGUgYm9vc3QgaGFzIGJlZW4gdXNlZCB3aGVuIGNsaWNrZWQuXG4gIGZ1bmN0aW9uIGxvY2F0ZUdhcnkoKXtcbiAgICBpZihwbGF5ZXJPbmVUdXJuKXtcbiAgICAgIGluZGV4ID0gJCgnLnRyYWNrMS5wbGF5ZXInKS5pbmRleCgpO1xuICAgICAgaWYoUGxheWVyT25lQm9vc3RSZW1haW5pbmcgPiAwKXtcbiAgICAgICAgbW92ZUdhcnkoKTtcbiAgICAgIH0gZWxzZSBpZihQbGF5ZXJPbmVCb29zdFJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICBib29zdEdhcnkoKTtcbiAgICAgICAgUGxheWVyT25lQm9vc3RSZW1haW5pbmcgPSAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXBsYXllck9uZVR1cm4pe1xuICAgICAgaW5kZXggPSAkKCcudHJhY2syLnBsYXllcicpLmluZGV4KCk7XG4gICAgICBpZihQbGF5ZXJUd29Cb29zdFJlbWFpbmluZyA+IDApe1xuICAgICAgICBtb3ZlR2FyeSgpO1xuICAgICAgfWVsc2UgaWYoUGxheWVyVHdvQm9vc3RSZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgYm9vc3RHYXJ5KCk7XG4gICAgICAgIFBsYXllclR3b0Jvb3N0UmVtYWluaW5nID0gMjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBUaGlzIGZ1bmN0aW9uIG1vdmVzIGdhcnksIGl0IGZpcnN0IGRldGVybWluZXMgaWYgaXQgaXMgYSByZWd1bGFyIG1vdmUgb3IgYSBib29zdCBtb3ZlLCBpZiBpdCBpcyBhIHJlZ3VsYXIgbW92ZSBpdCBtb3ZlcyB0aGUgY3VycmVudCBwbGF5ZXJzIEdhcnkgYmV0d2VlbiAxIGFuZCAzIGluZGV4IHNwYWNlcyBhbG9uZywgZmluYWxseSwgaXQgcnVucyB0aGUgY2hlY2tXaW5uZXIgZnVuY3Rpb24gdG8gc2VlIGlmIGEgd2luIGNvbmRpdGlvbiBoYXMgYmVlbiBtZXQuXG4gIGZ1bmN0aW9uIG1vdmVHYXJ5KCkge1xuICAgICR0cmFjay5lcShpbmRleCkucmVtb3ZlQ2xhc3MoJ3BsYXllcicpO1xuICAgICR0cmFjay5lcShpbmRleCArIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKSArIDEgKSApLmFkZENsYXNzKCdwbGF5ZXInKTtcbiAgICBjaGVja1dpbm5lcigpO1xuICB9XG5cbi8vIFRoaXMgZnVuY3Rpb24gZmlyZXMgb2ZmIGlmIHRoZSBib29zdCBidXR0b24gaXMgY2xpY2tlZCBvbiwgdGhlIGNsaWNrIGV2ZW50IHVwZGF0ZXMgdGhlIGJvb3N0IGNvdW50IGFuZCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIHRoZSBsb2NhdGVHYXJ5IGlzIHJ1bm5pbmcuIEl0IGd1YXJlbnRlZXMgdGhlIHVzZXIgYSBtb3ZlIG9mIDUgc3BhY2VzIHRoZW4gcnVucyB0aGUgY2hlY2sgd2lubmVyIGZ1bmN0aW9uIHRvIHNlZSBpZiBhIHdpbiBjb25kaXRpb24gaGFzIGJlZW4gbWV0LlxuICBmdW5jdGlvbiBib29zdEdhcnkoKSB7XG4gICAgJHRyYWNrLmVxKGluZGV4KS5yZW1vdmVDbGFzcygncGxheWVyJyk7XG4gICAgJHRyYWNrLmVxKGluZGV4ICsgNSkuYWRkQ2xhc3MoJ3BsYXllcicpO1xuICAgIGNoZWNrV2lubmVyKCk7XG4gIH1cblxuLy8gdGhlIHNhbHRHYXJ5IGZ1bmN0aW9uLlxuICBmdW5jdGlvbiBzYWx0R2FyeSgpIHtcbiAgICBpZihQbGF5ZXJPbmVTYWx0UmVtYWluaW5nID09PSAwKXtcbiAgICAgIFBsYXllck9uZVNhbHRSZW1haW5pbmcgPSAyO1xuICAgICAgcGxheWVyT25lVHVybiA9IHRydWU7XG4gICAgICBpbmRleCA9ICQoJy50cmFjazEucGxheWVyJykuaW5kZXgoKTtcbiAgICAgICR0dXJuVGV4dC50ZXh0KCdQbGF5ZXIgMiBoYXMgYmVlbiBzYWx0ZWQhIFBsYXllciAxIG1vdmVzIGFnYWluIScpO1xuICAgICAgbW92ZUdhcnkoKTtcbiAgICB9IGVsc2UgaWYoUGxheWVyVHdvU2FsdFJlbWFpbmluZyA9PT0gMCl7XG4gICAgICBQbGF5ZXJUd29TYWx0UmVtYWluaW5nID0gMjtcbiAgICAgIC8vIHBsYXllck9uZVR1cm4gPSBmYWxzZTtcbiAgICAgICR0dXJuVGV4dC50ZXh0KCdQbGF5ZXIgMSBoYXMgYmVlbiBzYWx0ZWQhIFBsYXllciAyIG1vdmVzIGFnYWluIScpO1xuICAgICAgaW5kZXggPSAkKCcudHJhY2syLnBsYXllcicpLmluZGV4KCk7XG4gICAgICBtb3ZlR2FyeSgpO1xuICAgIH1cbiAgfVxuLy8gdmFyaW91cyBldmVudCBsaXN0ZW5lcnMgYmVsb3cuXG5cbi8vIFRoaXMgaXMgdGhlIGNsaWNrIGV2ZW50IGZvciB0aGUgbW92ZSBidXR0b24sIHdoZW4gY2xpY2tlZCBpdCBmaXJlcyBvZmYgdGhlIGRldGVybWluZVR1cm4gZnVuY3Rpb24gd2hpY2ggc2V0cyBpbiBtb3Rpb24gdGhlIGxvY2F0ZUdhcnkgYW5kIG1vdmVHYXJ5IGZ1bmN0aW9ucy5cbiAgJG1vdmUub24oJ2NsaWNrJywgZGV0ZXJtaW5lVHVybik7XG5cbi8vIHRoaXMgaXMgdGhlIGNsaWNrIGV2ZW50IGZvciB0aGUgYm9vc3QgYnV0dG9uLCB3aGVuIGNsaWNrZWQgaXQgY2hlY2tzIGZpcnN0IHRvIHNlZSBpZiB0aGUgcGxheWVyIGhhcyBhbHJlYWR5IHVzZWQgdGhlaXIgYm9vc3QsIGlmIG5vdCBpdCB1cGRhdGVzIHRoYXQgaW5mb3JtYXRpb24gYW5kIHJ1bnMgdGhlIGRldGVybWluZVR1cm4gZnVuY3Rpb24gbGlrZSBhIG5vcm1hbCBtb3ZlLCB3aGVuIHRoaXMgcmVhY2hlcyB0aGUgbG9jYXRlR2FyeSBmdW5jdGlvbiwgaXQgdGFrZXMgbm90ZSB0aGF0IHRoZSBib29zdCBoYXMgYmVlbiB1c2VkIHRvIGZpcmUgb2ZmIHRoZSBib29zdEdhcnkgZnVuY3Rpb24gaW5zdGVhZCBvZiB0aGUgbW92ZUdhcnkgZnVuY3Rpb24uIEl0IHRoZW4gdXBkYXRlcyB0aGUgYm9vc3QgcmVtYWluaW5nIGFnYWluLCBzbyB0aGF0IGlmIGFub3RoZXIgYm9vc3QgaXMgYXR0ZW1wdGVkLCBpdCBpbmZvcm1zIHRoZSB1c2VyIHRoYXQgdGhlaXIgYm9vc3QgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlxuICAkYm9vc3Qub24oJ2NsaWNrJywgKCkgPT57XG4gICAgaWYocGxheWVyT25lVHVybil7XG4gICAgICBpZihQbGF5ZXJPbmVCb29zdFJlbWFpbmluZyA9PT0gMSl7XG4gICAgICAgIFBsYXllck9uZUJvb3N0UmVtYWluaW5nID0gMDtcbiAgICAgICAgZGV0ZXJtaW5lVHVybigpO1xuICAgICAgfSBlbHNlIGlmKFBsYXllck9uZUJvb3N0UmVtYWluaW5nID09PSAyKXtcbiAgICAgICAgJHR1cm5UZXh0LnRleHQoJ1BsYXllciAxIGJvb3N0IGFscmVhZHkgdXNlZCEnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFwbGF5ZXJPbmVUdXJuKXtcbiAgICAgIGlmKFBsYXllclR3b0Jvb3N0UmVtYWluaW5nID09PSAxKXtcbiAgICAgICAgUGxheWVyVHdvQm9vc3RSZW1haW5pbmcgPSAwO1xuICAgICAgICBkZXRlcm1pbmVUdXJuKCk7XG4gICAgICB9IGVsc2UgaWYoUGxheWVyVHdvQm9vc3RSZW1haW5pbmcgPT09IDIpe1xuICAgICAgICAkdHVyblRleHQudGV4dCgnUGxheWVyIDIgYm9vc3QgYWxyZWFkeSB1c2VkIScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gYmVsb3cgaXMgdGhlIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgc2FsdCBhYmlsaXR5LiBVc2luZyB0aGlzIHdpbGwgc3RvcCB5b3VyIG9wcG9uZW50cyBuZXh0IHR1cm4gYW5kIGdpdmUgZ2FyeSBhIG5vcm1hbCBnYXJ5TW92ZSB3aGlsZSB1c2luZyBpdC4gSWYgYSBwbGF5ZXIgaGFzIGFscmVhZHkgdXNlZCB0aGVpciBzYWx0IGl0IGluZm9ybXMgdGhlbSBvbiB0aGUgJHR1cm5UZXh0IGZlZWRiYWNrLlxuICAkc2FsdC5vbignY2xpY2snLCgpID0+IHtcbiAgICBpZihwbGF5ZXJPbmVUdXJuKXtcbiAgICAgIGlmKFBsYXllck9uZVNhbHRSZW1haW5pbmcgPT09IDEpe1xuICAgICAgICBQbGF5ZXJPbmVTYWx0UmVtYWluaW5nID0gMDtcbiAgICAgICAgc2FsdEdhcnkoKTtcbiAgICAgIH0gZWxzZSBpZihQbGF5ZXJPbmVTYWx0UmVtYWluaW5nID09PSAyKXtcbiAgICAgICAgJHR1cm5UZXh0LnRleHQoJ1BsYXllciAxIGhhcyBhbHJlYWR5IHVzZWQgU2FsdCEnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYoIXBsYXllck9uZVR1cm4pe1xuICAgICAgaWYoUGxheWVyVHdvU2FsdFJlbWFpbmluZyA9PT0gMSl7XG4gICAgICAgIFBsYXllclR3b1NhbHRSZW1haW5pbmcgPSAwO1xuICAgICAgICBzYWx0R2FyeSgpO1xuICAgICAgfSBlbHNlIGlmKFBsYXllclR3b1NhbHRSZW1haW5pbmcgPT09IDIpe1xuICAgICAgICAkdHVyblRleHQudGV4dCgnUGxheWVyIDIgaGFzIGFscmVhZHkgdXNlZCBTYWx0IScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gQ2xpY2sgZXZlbnQgdG8gc3RhcnQgdGhlIGdhbWUsIHJlbW92ZXMgdGhlIGluc3RydWN0aW9uIHBhZ2UgYW5kIHRoZW4gc2hvd3MgdGhlIHJhY2V0cmFjaywgZmVlZGJhY2sgYm94IGFuZCBjb250cm9sbGVyLlxuXG4gICRzdGFydC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnLmluc3RydWN0aW9ucycpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgJCgnLmJvYXJkJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAkKCcuY29udHJvbGxlcicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgJCgnLmZlZWRiYWNrJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgfSk7XG59KTtcbiJdfQ==
